specVersion: 0.0.4
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: GlpManager
    network: avalanche
    source:
      address: "0xe1ae4d4b06A5Fe1fc288f6B4CD72f9F8323B107F"
      abi: GlpManager
      startBlock: 8231150
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities: []
      abis:
        - name: _ERC20
          file: GlpManager/abis/Prices/ERC20.json
        - name: CurvePool
          file: GlpManager/abis/Prices/Curve/Pool.json
        - name: CurveRegistry
          file: GlpManager/abis/Prices/Curve/Registry.json
        - name: CalculationsCurve
          file: GlpManager/abis/Prices/Calculations/Curve.json
        - name: YearnLensContract
          file: GlpManager/abis/Prices/YearnLens.json
        - name: AaveOracleContract
          file: GlpManager/abis/Prices/AaveOracle.json
        - name: CalculationsSushiSwap
          file: GlpManager/abis/Prices/Calculations/SushiSwap.json
        - name: ChainLinkContract
          file: GlpManager/abis/Prices/ChainLink.json
        - name: UniswapRouter
          file: GlpManager/abis/Prices/Uniswap/Router.json
        - name: UniswapFactory
          file: GlpManager/abis/Prices/Uniswap/Factory.json
        - name: UniswapPair
          file: GlpManager/abis/Prices/Uniswap/Pair.json
        - name: GlpManager
          file: GlpManager/abis/GlpManager.json
        - name: ERC20
          file: GlpManager/abis/ERC20.json
      eventHandlers:
        - event: AddLiquidity(address,address,uint256,uint256,uint256,uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(address,address,uint256,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidity
      file: GlpManager/GlpManager.wasm
  - kind: ethereum/contract
    name: GlpManager2
    network: avalanche
    source:
      address: "0xD152c7F25db7F4B95b7658323c5F33d176818EE4"
      abi: GlpManager
      startBlock: 22742389
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities: []
      abis:
        - name: _ERC20
          file: GlpManager2/abis/Prices/ERC20.json
        - name: CurvePool
          file: GlpManager2/abis/Prices/Curve/Pool.json
        - name: CurveRegistry
          file: GlpManager2/abis/Prices/Curve/Registry.json
        - name: CalculationsCurve
          file: GlpManager2/abis/Prices/Calculations/Curve.json
        - name: YearnLensContract
          file: GlpManager2/abis/Prices/YearnLens.json
        - name: AaveOracleContract
          file: GlpManager2/abis/Prices/AaveOracle.json
        - name: CalculationsSushiSwap
          file: GlpManager2/abis/Prices/Calculations/SushiSwap.json
        - name: ChainLinkContract
          file: GlpManager2/abis/Prices/ChainLink.json
        - name: UniswapRouter
          file: GlpManager2/abis/Prices/Uniswap/Router.json
        - name: UniswapFactory
          file: GlpManager2/abis/Prices/Uniswap/Factory.json
        - name: UniswapPair
          file: GlpManager2/abis/Prices/Uniswap/Pair.json
        - name: GlpManager
          file: GlpManager2/abis/GlpManager.json
        - name: ERC20
          file: GlpManager2/abis/ERC20.json
      eventHandlers:
        - event: AddLiquidity(address,address,uint256,uint256,uint256,uint256,uint256)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(address,address,uint256,uint256,uint256,uint256,uint256)
          handler: handleRemoveLiquidity
      file: GlpManager/GlpManager.wasm
  - kind: ethereum/contract
    name: Vault
    network: avalanche
    source:
      address: "0x9ab2De34A33fB459b538c43f251eB825645e8595"
      abi: Vault
      startBlock: 8231150
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities: []
      abis:
        - name: _ERC20
          file: Vault/abis/Prices/ERC20.json
        - name: CurvePool
          file: Vault/abis/Prices/Curve/Pool.json
        - name: CurveRegistry
          file: Vault/abis/Prices/Curve/Registry.json
        - name: CalculationsCurve
          file: Vault/abis/Prices/Calculations/Curve.json
        - name: YearnLensContract
          file: Vault/abis/Prices/YearnLens.json
        - name: AaveOracleContract
          file: Vault/abis/Prices/AaveOracle.json
        - name: CalculationsSushiSwap
          file: Vault/abis/Prices/Calculations/SushiSwap.json
        - name: ChainLinkContract
          file: Vault/abis/Prices/ChainLink.json
        - name: UniswapRouter
          file: Vault/abis/Prices/Uniswap/Router.json
        - name: UniswapFactory
          file: Vault/abis/Prices/Uniswap/Factory.json
        - name: UniswapPair
          file: Vault/abis/Prices/Uniswap/Pair.json
        - name: Vault
          file: Vault/abis/VaultV2.json
        - name: ERC20
          file: Vault/abis/ERC20.json
      eventHandlers:
        - event: Swap(address,address,address,uint256,uint256,uint256,uint256)
          handler: handleSwap
        - event: IncreasePosition(bytes32,address,address,address,uint256,uint256,bool,uint256,uint256)
          handler: handleIncreasePosition
        - event: DecreasePosition(bytes32,address,address,address,uint256,uint256,bool,uint256,uint256)
          handler: handleDecreasePosition
        - event: CollectSwapFees(address,uint256,uint256)
          handler: handleCollectSwapFees
        - event: CollectMarginFees(address,uint256,uint256)
          handler: handleCollectMarginFees
        - event: IncreasePoolAmount(address,uint256)
          handler: handleIncreasePoolAmount
        - event: DecreasePoolAmount(address,uint256)
          handler: handleDecreasePoolAmount
      file: Vault/Vault.wasm
  - kind: ethereum/contract
    name: FeeGlpRewardDistributor
    network: avalanche
    source:
      address: "0x1de098faf30bd74f22753c28db17a2560d4f5554"
      abi: RewardDistributor
      startBlock: 8353442
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities: []
      abis:
        - name: _ERC20
          file: FeeGlpRewardDistributor/abis/Prices/ERC20.json
        - name: CurvePool
          file: FeeGlpRewardDistributor/abis/Prices/Curve/Pool.json
        - name: CurveRegistry
          file: FeeGlpRewardDistributor/abis/Prices/Curve/Registry.json
        - name: CalculationsCurve
          file: FeeGlpRewardDistributor/abis/Prices/Calculations/Curve.json
        - name: YearnLensContract
          file: FeeGlpRewardDistributor/abis/Prices/YearnLens.json
        - name: AaveOracleContract
          file: FeeGlpRewardDistributor/abis/Prices/AaveOracle.json
        - name: CalculationsSushiSwap
          file: FeeGlpRewardDistributor/abis/Prices/Calculations/SushiSwap.json
        - name: ChainLinkContract
          file: FeeGlpRewardDistributor/abis/Prices/ChainLink.json
        - name: UniswapRouter
          file: FeeGlpRewardDistributor/abis/Prices/Uniswap/Router.json
        - name: UniswapFactory
          file: FeeGlpRewardDistributor/abis/Prices/Uniswap/Factory.json
        - name: UniswapPair
          file: FeeGlpRewardDistributor/abis/Prices/Uniswap/Pair.json
        - name: RewardDistributor
          file: FeeGlpRewardDistributor/abis/RewardDistributor.json
        - name: ERC20
          file: FeeGlpRewardDistributor/abis/ERC20.json
      eventHandlers:
        - event: TokensPerIntervalChange(uint256)
          handler: handleEthToGlpChange
      file: FeeGlpRewardDistributor/FeeGlpRewardDistributor.wasm
  - kind: ethereum/contract
    name: EsgmxGlpRewardDistributor
    network: avalanche
    source:
      address: "0xdd593cf40734199afc9207ebe9fff23da4bf7720"
      abi: RewardDistributor
      startBlock: 8353460
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities: []
      abis:
        - name: _ERC20
          file: EsgmxGlpRewardDistributor/abis/Prices/ERC20.json
        - name: CurvePool
          file: EsgmxGlpRewardDistributor/abis/Prices/Curve/Pool.json
        - name: CurveRegistry
          file: EsgmxGlpRewardDistributor/abis/Prices/Curve/Registry.json
        - name: CalculationsCurve
          file: EsgmxGlpRewardDistributor/abis/Prices/Calculations/Curve.json
        - name: YearnLensContract
          file: EsgmxGlpRewardDistributor/abis/Prices/YearnLens.json
        - name: AaveOracleContract
          file: EsgmxGlpRewardDistributor/abis/Prices/AaveOracle.json
        - name: CalculationsSushiSwap
          file: EsgmxGlpRewardDistributor/abis/Prices/Calculations/SushiSwap.json
        - name: ChainLinkContract
          file: EsgmxGlpRewardDistributor/abis/Prices/ChainLink.json
        - name: UniswapRouter
          file: EsgmxGlpRewardDistributor/abis/Prices/Uniswap/Router.json
        - name: UniswapFactory
          file: EsgmxGlpRewardDistributor/abis/Prices/Uniswap/Factory.json
        - name: UniswapPair
          file: EsgmxGlpRewardDistributor/abis/Prices/Uniswap/Pair.json
        - name: RewardDistributor
          file: EsgmxGlpRewardDistributor/abis/RewardDistributor.json
        - name: ERC20
          file: EsgmxGlpRewardDistributor/abis/ERC20.json
      eventHandlers:
        - event: TokensPerIntervalChange(uint256)
          handler: handleEsgmxToGlpChange
      file: FeeGlpRewardDistributor/FeeGlpRewardDistributor.wasm
